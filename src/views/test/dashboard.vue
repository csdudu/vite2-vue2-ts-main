<template>
  <div class="about">
    <van-cell is-link title="åŸºç¡€ç”¨æ³•" @click="show = true" />
    <van-action-sheet v-model="show" :actions="actions" @select="onSelect" />
    <van-icon name="bianji1" class-prefix="isales" />
    <van-icon size="30px" name="dingwei1" class-prefix="isales" />
    {{ currentDateCN }}
    <van-picker
      v-model="currentDateCN"
      show-toolbar
      title="è¯·é€‰æ‹©"
      :columns="columns"

      @confirm="onConfirm"
      @change="onChange"
    />

    <Navbar nav-title="ä»£ç è§„èŒƒç”¨ä¾‹" />
    <h3>STRæ€»é”€é‡ (HL)-M1å¯¹æ¯”</h3>
    <div class="legend">
      <div class="item"> <i class="i1"></i><h3>æœˆç›®æ ‡</h3> </div>
      <div class="item"> <i class="i2"></i><h3>æœˆç´¯è®¡</h3> </div>
      <div class="item"> <i class="i3 low"></i><h3>è¾¾æˆç‡</h3> </div>
    </div>
    <chart_bar_line
      ref="chart3"
      name="chart3"
    />

    <h3>æ‹œè®¿è¾¾æˆç‡</h3>
    <chart_bar
      ref="chart4"
      name="chart4"
      :para="para1"
    />
    <!-- <h1>eChartsåœ†å½¢å¯¹ä½</h1>
    <div class="chart_demo">

      <chart_pie
        ref="chart5"
        name="chart5"
        :para="list_chart_pie"
      />
      <div class="rr">è¿™æ˜¯ä¸­é—´æ–‡å­—</div>
    </div> -->

    <h1>dashboard</h1>

    <h1>ä¸€è¡Œå››ä¸ªå……æ»¡</h1>

    <ul class="list1">
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
      <li>5</li>
      <li>6</li>
      <li>7</li>
      <li>8</li>
      <li>9</li>
      <li>10</li>
      <li>11</li>
      <li>12</li>
      <li>13</li>
      <li>14</li>
    </ul>

    <div class="h30"></div>
    <h1>å·¦å³å¸ƒå±€</h1>
    <div class="jcsb">
      <div class="left">å·¦</div>
      <div class="right">å³</div>
    </div>
    <div class="h30"></div>

    <div class="wid330">è¿™æ˜¯ä¸€ä¸ªå°ºå¯¸ä¸º330pxçš„å—</div>
    <div class="wid330" style="width:330px; height:330px; background:#356">è¿™æ˜¯ç”¨äº†styleçš„å—</div>

    <h1>h1æ ‡é¢˜ 32px</h1>
    <h2>h2æ ‡é¢˜ 30px</h2>
    <h3>h3æ ‡é¢˜ 28px</h3>
    <h4>h4æ ‡é¢˜ 24px</h4>
    <p>æ™®é€šå°ºå¯¸æ–‡å­— 14px</p>
    <!-- <van-tabbar v-model="active">
<van-tabbar-item icon="home-o">æ ‡ç­¾</van-tabbar-item>
<van-tabbar-item icon="search">æ ‡ç­¾</van-tabbar-item>
<van-tabbar-item icon="friends-o">æ ‡ç­¾</van-tabbar-item>
<van-tabbar-item icon="setting-o">æ ‡ç­¾</van-tabbar-item>
van-tabbar> -->
    <van-button type="primary">ä¸»è¦æŒ‰é’®</van-button>
    <van-button type="primary" round>åœ†è§’æŒ‰é’®</van-button>
    <van-button type="info">ä¿¡æ¯æŒ‰é’®</van-button>
    <van-button type="default">é»˜è®¤æŒ‰é’®</van-button>
    <van-button type="warning" round>è­¦å‘ŠæŒ‰é’®</van-button>
    <van-button type="danger">å±é™©æŒ‰é’®</van-button>

    <van-button plain type="primary">primary æœ´ç´ æŒ‰é’®</van-button>

    <van-button disabled type="primary">primary ç¦ç”¨çŠ¶æ€</van-button>

    <van-checkbox v-model="checked">å¤é€‰æ¡†</van-checkbox>
    <van-switch v-model="checked" />

    <van-search
      v-model="value"
      shape="round"
      placeholder="è¿™æ˜¯é»˜è®¤æœç´¢"
    />

    <div class="h10"></div>

    <van-search v-model="value" placeholder="è¯·è¾“å…¥å”®ç‚¹åç§°/å”®ç‚¹åœ°å€" show-action shape="round">
      <van-icon slot="action" class-prefix="isales" name="shaixuan1" />
    </van-search>

    è¿™æ˜¯è°ƒç”¨iconfontçš„æ ‡å‡†ç”¨æ³•,é»˜è®¤å­—ä½“å¤§å°24pxï¼š
    <van-icon class-prefix="isales" name="peopleb2ren" />

    <div class="h20"></div>
    <aa href="/sprWorkH5/workplan">è¿™æ˜¯Aé“¾æ¥çš„HTMLå†™æ³•</aa>

    <com_list
      ref="listA"
      class="listA"
      :list="listA"
      :finished="finished"
      :func="func"
      api=""
      :form="{}"
    >
      <!-- <div
            slot-scope="ttt"
            class="aa_cont"
            :class="'handle' + ttt.item.attrs.contest_status"
        ></div> -->
      <div
        slot-scope="ttt"
      >{{ ttt.item }}</div>
    </com_list>
  </div>
</template>
<script>
const moment = require('moment')
import Vue from 'vue'
import { Cell, Switch, Tabbar, TabbarItem } from 'vant'
import chart_pie from '@/components/chart/chart_pie'
import chart_bar from '@/components/chart/chart_bar'
import chart_bar_line from '@/components/chart/chart_bar_line'
// import test_btn from '@/components/test_btn'
import com_list from '@/components/com_list'

Vue.use(Switch)
Vue.use(Tabbar)
Vue.use(TabbarItem)

const NOW = new Date()
console.log('NOW :>> ', NOW)

const mm = moment().subtract(1, 'years').toDate()
console.log('moment() :>> ', mm)

export default {
  components: {
    vanCell: Cell,
    chart_pie,
    chart_bar,
    chart_bar_line,
    com_list
  },
  props: {},
  data() {
    return {
      show: false,
      actions: [{ name: 'é€‰é¡¹ä¸€' }, { name: 'é€‰é¡¹äºŒ' }, { name: 'é€‰é¡¹ä¸‰' }],
      currentDateCN: [
        { 'value': 2021, 'text': '2021å¹´' },
        { 'value': 2, 'text': '2æœˆ' },
        { 'value': 1, 'text': 'ç¬¬1å‘¨' }
      ],
      columns: [
        {
          'defaultIndex': 1,
          'values': [
            { 'value': 2020, 'text': '2020å¹´' },
            { 'value': 2021, 'text': '2021å¹´' }
          ]
        },
        {
          'defaultIndex': 1,
          'values': [
            { 'value': 1, 'text': '1æœˆ' },
            { 'value': 2, 'text': '2æœˆ' },
            { 'value': 3, 'text': '3æœˆ' },
            { 'value': 4, 'text': '4æœˆ' },
            { 'value': 5, 'text': '5æœˆ' },
            { 'value': 6, 'text': '6æœˆ' },
            { 'value': 7, 'text': '7æœˆ' },
            { 'value': 8, 'text': '8æœˆ' },
            { 'value': 9, 'text': '9æœˆ' },
            { 'value': 10, 'text': '10æœˆ' },
            { 'value': 11, 'text': '11æœˆ' },
            { 'value': 12, 'text': '12æœˆ' }
          ]
        },
        { 'values': [
          { 'value': 1, 'text': 'ç¬¬1å‘¨' },
          { 'value': 2, 'text': 'ç¬¬2å‘¨' },
          { 'value': 3, 'text': 'ç¬¬3å‘¨' },
          { 'value': 4, 'text': 'ç¬¬4å‘¨' },
          { 'value': 5, 'text': 'ç¬¬5å‘¨' },
          { 'value': 6, 'text': 'ç¬¬6å‘¨' }
        ]
        }
      ],
      minDate: moment().subtract(2, 'years').toDate(),
      maxDate: moment().toDate(),
      currentDate: moment().toDate(),

      para1: {
        key: ['æ½˜å¯ç‰', 'å”ç™»å', 'å‘¨ä¸–æ—', 'é›·ç‘œ', 'å¼ ç´'],
        val: [125, 110, 112, 120, 89]
      },
      finished: false,
      listA: [],
      active: 1,
      checked: true,
      value: null,
      list_chart_pie: [
        { value: 100, name: 'ç›´æ¥è®¿é—®' },
        { value: 100, name: 'é‚®ä»¶è¥é”€' },
        { value: 100, name: 'è”ç›Ÿå¹¿å‘Š' }

      ]
    }
  },
  computed: {},
  watch: {},
  created() {
    var date = moment()
    // var dow = date.day();
    // var monday1 = date.subtract(dow-1, 'days').format('YYYY-MM-DD')
    const day1 = moment('2021-5-5 17:00')
    const day2 = moment()
    console.log('ğŸš€ ~ day2', day2)
    // let dd = this_day.add(0,'months').format('YYYY-MM-DD')

    /* setInterval(
      ()=>{
        this.para1 = {
          key:["a","b","c","d","e"],
          val:[
            _.random(6, 10),
            _.random(2, 15),
            _.random(6, 10),
            _.random(2, 15),
            _.random(6, 10)
          ],
        }
      },
    5000); */
  },
  mounted() {

  },
  beforeCreate() {},
  beforeMount() {},
  beforeUpdate() {},
  updated() {},
  beforeDestroy() {},
  destroyed() {},
  activated() {},
  methods: {
    onSelect(item) {
      console.log('ğŸš€ ~ item', item)
    },
    onConfirm(n1, v) {
      console.log('n1 :>> ', n1, v)
    },
    onChange(n2, v) {
      console.log('n2 :>> ', n2, v)
    },
    clickH() {
      console.log('BTN!!!!! :>> ')
    },
    func(page) {
      if (page == 3) {
        this.finished = true
      }
      for (let iii = 0; iii < 5; iii++) {
        this.listA.push(_.random(0, 999))
        console.log('ğŸš€ ~ listA', listA)
        console.log('ğŸš€ ~ listA', listA)
        console.log('ğŸš€ ~ func ~ listA', listA)
      }
      console.log(page, '===this.listA :>> ', this.listA)
    }
  }
}
</script>
<style lang='less' scoped>
  #chart3{width: 100%; height: 240px;}
  #chart4{width: 100%; height: 240px;}
  .chart_demo{
    position: relative;width: 300px; height: 300px;
    #chart5{width: 300px; height: 300px; background-color: #faf;}
    .rr{
      left: 50%; top: 50%; transform: translate(-50%, -50%);
      position: absolute; width: 100px; height: 100px; border-radius: 50%; background-color: #ffa;
      display: flex; align-items: center; justify-content: center;
    }
  }

  .list1{
    width: 100%; background-color: #f34;
    display: flex; justify-content: space-between; flex-wrap: wrap;
    li+li{margin-left: 10px;}
    li:nth-child(4n+1){margin-left: 0px;}
    li:last-child{margin-right:auto}
    li{background-color: #090; width:76px; height: 50px;
    font-size: 20px; color: #fff; margin-bottom: 10px;
      &.blank{height: 0; background-color: none;margin-bottom: 0;}
      &:nth-last-child(3){background-color: #920;}
    }
  }
  .wid330{
    width: 340px; height: 340px; background-color: #069;
    font-size: 20px; color: #fff; display: flex; align-items: center; justify-content: center;
  }
  .about{
    padding: 20px;
    h1{font-size: 40px; margin-bottom: 0.5em;}
    background-color: #dee;
    .van-button{
      margin-right: 10px; margin-bottom: 20px;
    }
    .van-search{width: 100%;}
  }
  .van-switch{font-size: 14px; border-width: 1px;}
</style>
